<div class="auth-container">
  <div class="confirmation-container">
    @if (!isValid) {
      <h1>{{ 'confirmation.title' | translate }}</h1>

      <p class="intro-text" [innerHTML]="'confirmation.intro' | translate:{ email: email }"></p>

      <div class="highlight-box">
        {{ 'confirmation.highlight' | translate }}
      </div>

      <div class="resend-section">
        <p>
          {{ 'confirmation.resend.text' | translate }}
        </p>

        <form [formGroup]="emailForm" (ngSubmit)="onSubmit()" class="auth-form">
          <div class="form-group">
            <label for="email">{{ 'confirmation.resend.label' | translate }}</label>
            <input 
              type="email" 
              id="email"
              formControlName="email" 
              class="form-control"
              [class.is-invalid]="submitted && f['email'].errors"
              [placeholder]="'confirmation.resend.label' | translate">
            <div *ngIf="submitted && f['email'].errors" class="invalid-feedback">
              <div *ngIf="f['email'].errors['required']">
                {{ 'confirmation.resend.required' | translate }}
              </div>
            </div>
          </div>

          <div class="form-actions">
            <button 
              type="submit" 
              class="btn btn-primary btn-block"
              [disabled]="loading">
              <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
              {{ 'confirmation.resend.button' | translate }}
            </button>
          </div>
        </form>
      </div>
    }@else {
      <div class="icon">âœ…</div>

      <h1>{{ 'confirmation.activated.title' | translate }}</h1>

      <p>{{ 'confirmation.activated.message' | translate }}</p>

      <div class="form-actions">
        <button 
          type="submit" 
          class="btn btn-primary btn-block"
          (click)="goToLogin()">
          {{ 'confirmation.activated.button' | translate }}
        </button>
      </div>
    }
  </div>
</div>
